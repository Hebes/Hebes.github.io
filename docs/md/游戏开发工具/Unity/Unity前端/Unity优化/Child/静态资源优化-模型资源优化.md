# 静态资源优化-模型资源优化

**[《Unity性能优化》第贰节——静态资源优化(2)——Model导入设置检查与优化](<https://www.bilibili.com/video/BV1VZ4y1Z7qm>)**

**[Unity中Mesh数据优化总结](<https://blog.csdn.net/weixin_42352178/article/details/108987071>)**

## 美术人员需要关心的设置

![1](\../Image/静态资源优化-模型资源优化/1.png)

## 模型优化

【尽可能移除隐藏的面】
这会减少顶点和三角面的处理。比如我们的相机在阳台，附近高楼林立。那么实际上只有前面几个楼需要前、左、右的面。远处的楼是不需要左或、右的面。因为看不到。

【合并mesh】
网格合并，材质合并，优化批处理

【减少顶点】
建模时应尽量减少模型的顶点。根据动态、静态批处理的触发相关规则，简单着色器模型顶点数必须小于900。如果着色器同时使用顶点位置、法线、UV值三种属性则模型顶点数必须小于300。如果着色器同时使用顶点位置、法线、UV0、UV1、切向量五种属性则模型顶点数必须小于180。

*【减少模型缩放（Scale）】
模型缩放会导致创建新的Batch。不利于动态、静态批处理

【不使用mesh collider】
尽量使用cube collider 等内置colliser。性能会提高很多

*【使用模型的LOD (Level ofDetail ）】
使用模型的多级细节技术，在不同的距离使用不同精度的模型、材质。提升cpu、gpu型能，加重内存负担。典型的空间换时间优化技术。

*【使用遮挡剔除（ Occlusion Culling ）】
*【使用动态批处理（Baches，Saved by batching）】
【使用条件&步骤】

场景中存在多个相同模型。如果不是多个相同模型，则批处理无意义。
模型顶点数必须小于900。
如果着色器同时使用顶点位置、法线、UV值三种属性则模型顶点数必须小于300。如果着色器同时使用顶点位置、法线、UV0、UV1、切向量五种属性则模型顶点数必须小于180。
不能进行缩放 Scale。每次调整模型的大小都会产生新的Batch。
不能修改材质。每次修改材质都会缠身新的Batch。
不能使用lightmap（烘焙光照贴图），除非是先烘焙，后实例化物体。
多通道的shader会妨碍批处理操作。比如，几乎unity中所有的着色器在前向渲染中都支持多个光源，并为它们有效地开辟多个通道
材质勾选 “Enable Gpu instancing”
*【使用静态批处理】
【使用条件&步骤】
点击目标物体，在Inspector窗口勾选Static。
要注意静态批处理不允许改变位置
